<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Sudoku</title>
  <link rel="stylesheet" href="./assets/css/style.css" />
  <link rel="shortcut icon" href="./assets/icons/logo.png" type="image/x-icon">
</head>

<body>
  <div class="splash-screen" id="splash">
    <div class="splash-logo"></div>
    <div class="splash-text">Sudoku</div>
  </div>

  <div class="home-container" id="homeScreen">
    <h1 class="home-title">SUDOKU</h1>
    <div class="menu-container">
      <button class="home-btn" id="startBtn" tabindex="0">Start</button>
      <button class="home-btn" id="howBtn" tabindex="0">How to Play</button>
      <button class="home-btn" id="aboutBtn" tabindex="0">About</button>
    </div>
  </div>

  <!-- How to Play Popup -->
  <div class="popup-container" id="howPopup">
    <div class="popup-content">
      <h3>Game Rules</h3>
      <p>Fill each 9×9 grid so that every row, column, and 3×3 box contains digits 1–9 without repetition.</p>
      <p>Use logic and deduction — no guessing required!</p>
      <button class="btn ok-btn">OK</button>
    </div>
  </div>

  <!-- About Popup -->
  <div class="popup-container" id="aboutPopup">
    <div class="popup-content">
      <h3>About Sudoku</h3>
      <p>Sudoku is a logic-based puzzle game that enhances focus and reasoning.</p>
      <button class="btn ok-btn">OK</button>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const splash = document.getElementById("splash");
      const buttons = Array.from(document.querySelectorAll(".menu-container .home-btn"));
      let index = 0;
      let isPopUpOpen = false;
      let currentPopup = null;

      // Hide splash after 2s, then focus first button
      window.addEventListener("load", () => {
        setTimeout(() => {
          splash.classList.add("hide");
          setTimeout(() => { buttons[index].focus(); splash.style.display = "none" }, 100);
        }, 2000);
      });

      // Key navigation
      document.addEventListener("keydown", (e) => {
        const key = e.key;

        if (isPopUpOpen) {
          if (key === "Enter" || key === "OK") {
            // Close popup
            currentPopup.classList.remove("active");
            isPopUpOpen = false;
            currentPopup = null;
            buttons[index].focus();
          }
          return;
        }

        if (key === "ArrowUp") {
          index = (index - 1 + buttons.length) % buttons.length;
          buttons[index].focus();
        } else if (key === "ArrowDown") {
          index = (index + 1) % buttons.length;
          buttons[index].focus();
        } else if (key === "Enter" || key === "OK") {
          const id = buttons[index].id;
          if (id === "startBtn") {
            window.location.href = "game.html";
          } else if (id === "howBtn") {
            currentPopup = document.getElementById("howPopup");
            currentPopup.classList.add("active");
            isPopUpOpen = true;
            currentPopup.querySelector(".ok-btn").focus();
          } else if (id === "aboutBtn") {
            currentPopup = document.getElementById("aboutPopup");
            currentPopup.classList.add("active");
            isPopUpOpen = true;
            currentPopup.querySelector(".ok-btn").focus();
          }
        }
      });
    });
  </script>

</body>

</html>
