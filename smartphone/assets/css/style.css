@charset "UTF-8";
/* ---------- Responsive globals ---------- */
:root {
  /* Cell auto-scales: tiny phones → desktops */
  --cell: clamp(32px, 9vw, 56px);
  --radius: 10px;
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

html, body {
  height: 100%;
}

body {
  margin: 0;
  padding: 16px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
  font-family: "Lato", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
  background-color: #4D394B;
  color: #eee;
}

/* ---------- Board as table (crisp lines) ---------- */
table.sudoku-container {
  border: 4px solid rgb(31.3375, 23.1625, 30.65625); /* outer frame */
  border-collapse: collapse;
  background: #2E222D;
  border-radius: var(--radius);
  overflow: hidden; /* round corners cleanly */
  margin: 0 auto;
}

/* Remove old fixed pseudo lines (if present) */
.sudoku-container::before,
.sudoku-container::after {
  display: none !important;
}

/* Cells draw the grid */
table.sudoku-container td {
  padding: 0;
  border: 1px solid rgb(31.3375, 23.1625, 30.65625); /* base thin lines */
}

/* Outer frame thickness */
table.sudoku-container tr:first-child td {
  border-top-width: 4px;
}

table.sudoku-container tr:last-child td {
  border-bottom-width: 4px;
}

table.sudoku-container tr td:first-child {
  border-left-width: 4px;
}

table.sudoku-container tr td:last-child {
  border-right-width: 4px;
}

/* Thick 3×3 separators */
table.sudoku-container tr:nth-child(3n) td {
  border-bottom-width: 4px;
}

table.sudoku-container tr td:nth-child(3n) {
  border-right-width: 4px;
}

/* ---------- Inputs (fluid) ---------- */
.sudoku-container input {
  width: var(--cell);
  height: var(--cell);
  text-align: center;
  font-size: calc(var(--cell) * 0.48);
  line-height: 1;
  padding: 0;
  /* Let td borders form the grid; use inner ring for state */
  border: 0;
  background-color: #2E222D;
  color: #eee;
  outline: none;
  transition: box-shadow 0.15s ease, background-color 0.15s ease;
}
.sudoku-container input:focus {
  box-shadow: inset 0 0 0 3px #4C9689;
}
.sudoku-container input.highlight {
  background-color: #29B6F6;
}
.sudoku-container input.disabled {
  cursor: not-allowed;
  background-color: #4C9689;
}
.sudoku-container input.disabled.highlight {
  background-color: #29B6F6;
}

/* Legacy margins that broke lines → remove */
tr:nth-child(1) td:nth-child(3) input,
tr:nth-child(1) td:nth-child(6) input,
tr:nth-child(3) input,
tr:nth-child(6) input {
  margin: 0;
}

/* Invalid ring without shifting layout */
.sudoku-container .invalid {
  box-shadow: inset 0 0 0 3px #e74c3c;
}
.sudoku-container .invalid:focus {
  box-shadow: inset 0 0 0 3px #e74c3c;
}

/* Solved/valid frame highlight */
.sudoku-container.valid-matrix {
  border-color: #4C9689;
}

/* ---------- Controls (responsive) ---------- */
#controls {
  width: 90vw;
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 10px;
  max-width: 560px;
  margin: 12px 0 0;
}

.btn {
  padding: 10px 14px;
  font-size: 15px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  transition: transform 0.12s ease, box-shadow 0.12s ease, opacity 0.12s ease;
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}
.btn:active {
  transform: translateY(1px);
}

.btn.primary {
  background-color: #4C9689;
  color: #fff;
  box-shadow: inset 0 -3px rgb(58.8495575221, 116.1504424779, 106.0840707965);
}
.btn.primary:hover {
  box-shadow: inset 0 -3px rgb(41.6991150442, 82.3008849558, 75.1681415929);
}

/* ---------- Small screens ---------- */
@media (max-width: 480px) {
  :root {
    --cell: clamp(30px, 10vw, 46px);
  }
  body {
    padding: 12px;
    gap: 12px;
  }
  #controls {
    grid-template-columns: 1fr;
  }
  .btn {
    padding: 12px 16px;
    font-size: 16px;
  }
}
/* Safe-area (notches) */
@supports (padding: max(0px)) {
  body {
    padding-left: max(12px, env(safe-area-inset-left));
    padding-right: max(12px, env(safe-area-inset-right));
    padding-top: max(12px, env(safe-area-inset-top));
    padding-bottom: max(12px, env(safe-area-inset-bottom));
  }
}
/* ---------- Sudoku Keypad ---------- */
#sudoku-keypad {
  display: flex;
  flex-direction: column;
  align-items: center;       /* center all keypad rows */
  justify-content: center;
  gap: 8px;
  width: 90vw;               /* consistent with controls */
  max-width: 560px;          /* match desktop alignment */
  margin: 0 auto 16px auto;  /* center horizontally */
}

.keypad-row {
  display: flex;
  justify-content: space-between; /* even spacing per row */
  width: 100%;                    /* stretch row to container width */
  gap: 8px;
}

.keypad-btn {
  flex: 1;                        /* distribute evenly */
  max-width: calc(20% - 6.4px);   /* keep equal width even with gaps */
  height: 48px;
  border-radius: 12px;
  border: 1px solid #4C9689;
  background-color: #2E222D;
  color: #eee;
  font-size: 18px;
  font-weight: bold;
  cursor: pointer;
  transition: background-color 0.15s, transform 0.1s;
  box-shadow: inset 0 -3px rgba(76,150,137,0.6);
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

.keypad-btn:active {
  background-color: #4C9689;
  transform: translateY(1px);
}

/* Popup overlay (dim background) */
.popup-overlay {
  display: none; /* hidden by default */
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  justify-content: center;
  align-items: center;
  z-index: 999;
}

/* Popup box */
.popup-box {
  background: #2E222D;
  padding: 20px 25px;
  border-radius: 10px;
  text-align: center;
  max-width: 300px;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.25);
}

/* Buttons inside popup */
.popup-buttons {
  margin-top: 15px;
  display: flex;
  justify-content: space-around;
}

.popup-buttons .btn {
  padding: 8px 16px;
  border: none;
  cursor: pointer;
  border-radius: 6px;
}

.popup-buttons .primary {
  background-color: #4C9689;
  color: white;
}

.popup-buttons .btn:hover {
  opacity: 0.9;
}

